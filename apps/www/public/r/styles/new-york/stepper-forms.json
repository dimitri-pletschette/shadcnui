{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stepper-forms",
  "type": "registry:example",
  "author": "shadcn (https://ui.shadcn.com)",
  "registryDependencies": [
    "stepper",
    "form"
  ],
  "files": [
    {
      "path": "examples/stepper-forms.tsx",
      "content": "import { zodResolver } from \"@hookform/resolvers/zod\"\nimport { Form, useForm, useFormContext } from \"react-hook-form\"\nimport { z } from \"zod\"\n\nimport { Input } from \"@/registry/new-york/ui/input\"\nimport {\n  Stepper,\n  StepperAction,\n  StepperControls,\n  StepperNavigation,\n  StepperPanel,\n  StepperStep,\n  StepperTitle,\n  defineStepper,\n} from \"@/registry/new-york/ui/stepper\"\n\nconst shippingSchema = z.object({\n  address: z.string().min(1, \"Address is required\"),\n  city: z.string().min(1, \"City is required\"),\n  postalCode: z.string().min(5, \"Postal code is required\"),\n})\n\nconst paymentSchema = z.object({\n  cardNumber: z.string().min(16, \"Card number is required\"),\n  expirationDate: z.string().min(5, \"Expiration date is required\"),\n  cvv: z.string().min(3, \"CVV is required\"),\n})\n\ntype ShippingFormValues = z.infer<typeof shippingSchema>\ntype PaymentFormValues = z.infer<typeof paymentSchema>\n\nconst ShippingForm = () => {\n  const {\n    register,\n    formState: { errors },\n  } = useFormContext<ShippingFormValues>()\n\n  return (\n    <div className=\"space-y-4 text-start\">\n      <div className=\"space-y-2\">\n        <label\n          htmlFor={register(\"address\").name}\n          className=\"block text-sm font-medium text-primary\"\n        >\n          Address\n        </label>\n        <Input\n          id={register(\"address\").name}\n          {...register(\"address\")}\n          className=\"block w-full rounded-md border p-2\"\n        />\n        {errors.address && (\n          <span className=\"text-sm text-destructive\">\n            {errors.address.message}\n          </span>\n        )}\n      </div>\n      <div className=\"space-y-2\">\n        <label\n          htmlFor={register(\"city\").name}\n          className=\"block text-sm font-medium text-primary\"\n        >\n          City\n        </label>\n        <Input\n          id={register(\"city\").name}\n          {...register(\"city\")}\n          className=\"block w-full rounded-md border p-2\"\n        />\n        {errors.city && (\n          <span className=\"text-sm text-destructive\">\n            {errors.city.message}\n          </span>\n        )}\n      </div>\n      <div className=\"space-y-2\">\n        <label\n          htmlFor={register(\"postalCode\").name}\n          className=\"block text-sm font-medium text-primary\"\n        >\n          Postal Code\n        </label>\n        <Input\n          id={register(\"postalCode\").name}\n          {...register(\"postalCode\")}\n          className=\"block w-full rounded-md border p-2\"\n        />\n        {errors.postalCode && (\n          <span className=\"text-sm text-destructive\">\n            {errors.postalCode.message}\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction PaymentForm() {\n  const {\n    register,\n    formState: { errors },\n  } = useFormContext<PaymentFormValues>()\n\n  return (\n    <div className=\"space-y-4 text-start\">\n      <div className=\"space-y-2\">\n        <label\n          htmlFor={register(\"cardNumber\").name}\n          className=\"block text-sm font-medium text-primary\"\n        >\n          Card Number\n        </label>\n        <Input\n          id={register(\"cardNumber\").name}\n          {...register(\"cardNumber\")}\n          className=\"block w-full rounded-md border p-2\"\n        />\n        {errors.cardNumber && (\n          <span className=\"text-sm text-destructive\">\n            {errors.cardNumber.message}\n          </span>\n        )}\n      </div>\n      <div className=\"space-y-2\">\n        <label\n          htmlFor={register(\"expirationDate\").name}\n          className=\"block text-sm font-medium text-primary\"\n        >\n          Expiration Date\n        </label>\n        <Input\n          id={register(\"expirationDate\").name}\n          {...register(\"expirationDate\")}\n          className=\"block w-full rounded-md border p-2\"\n        />\n        {errors.expirationDate && (\n          <span className=\"text-sm text-destructive\">\n            {errors.expirationDate.message}\n          </span>\n        )}\n      </div>\n      <div className=\"space-y-2\">\n        <label\n          htmlFor={register(\"cvv\").name}\n          className=\"block text-sm font-medium text-primary\"\n        >\n          CVV\n        </label>\n        <Input\n          id={register(\"cvv\").name}\n          {...register(\"cvv\")}\n          className=\"block w-full rounded-md border p-2\"\n        />\n        {errors.cvv && (\n          <span className=\"text-sm text-destructive\">{errors.cvv.message}</span>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction CompleteComponent() {\n  return <div className=\"text-center\">Thank you! Your order is complete.</div>\n}\n\nconst stepperInstance = defineStepper(\n  {\n    id: \"shipping\",\n    title: \"Shipping\",\n    schema: shippingSchema,\n    component: ShippingForm,\n  },\n  {\n    id: \"payment\",\n    title: \"Payment\",\n    schema: paymentSchema,\n    component: PaymentForm,\n  },\n  {\n    id: \"complete\",\n    title: \"Complete\",\n    schema: z.object({}),\n    component: CompleteComponent,\n  }\n)\n\nexport default function StepperDemo() {\n  return (\n    <Stepper\n      instance={stepperInstance}\n      variant=\"vertical\"\n      labelOrientation=\"horizontal\"\n    >\n      <FormStepperComponent />\n    </Stepper>\n  )\n}\n\nconst FormStepperComponent = () => {\n  const { steps, useStepper, utils } = stepperInstance\n  const methods = useStepper()\n\n  const form = useForm({\n    mode: \"onTouched\",\n    resolver: zodResolver(methods.current.schema),\n  })\n\n  const onSubmit = (values: z.infer<typeof methods.current.schema>) => {\n    console.log(`Form values for step ${methods.current.id}:`, values)\n    if (methods.isLast) {\n      methods.reset()\n    } else {\n      methods.next()\n    }\n  }\n\n  const currentIndex = utils.getIndex(methods.current.id)\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(onSubmit)}\n        className=\"space-y-6 rounded-lg border p-6\"\n      >\n        <StepperNavigation>\n          {steps.map((step) => (\n            <StepperStep\n              key={step.id}\n              of={step}\n              type=\"submit\"\n              onClick={async () => {\n                const valid = await form.trigger()\n                //must be validated\n                if (!valid) return\n                //can't skip steps forwards but can go back anywhere if validated\n                if (utils.getIndex(step.id) - currentIndex > 1) return\n                methods.goTo(step.id)\n              }}\n            >\n              <StepperTitle>{step.title}</StepperTitle>\n            </StepperStep>\n          ))}\n        </StepperNavigation>\n        {steps.map((step) => (\n          <StepperPanel\n            key={step.id}\n            when={step}\n            className=\"h-[200px] content-center rounded border bg-slate-50 p-8\"\n          >\n            <step.component />\n          </StepperPanel>\n        ))}\n        <StepperControls>\n          <StepperAction action=\"prev\">Previous</StepperAction>\n          <StepperAction action=\"next\">Next</StepperAction>\n          <StepperAction action=\"reset\">Reset</StepperAction>\n        </StepperControls>\n      </form>\n    </Form>\n  )\n}\n",
      "type": "registry:example",
      "target": ""
    }
  ]
}